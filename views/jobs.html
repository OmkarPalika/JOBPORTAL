<!-- jobs.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jobs - Job Portal</title>
  <link rel="stylesheet" href="/jobs.css">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <!-- Navbar -->
  <nav>
    <div class="nav-container">
      <i class="fa-solid fa-suitcase"></i>
      <h1 class="logo"><div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M176 56l0 40 160 0 0-40c0-4.4-3.6-8-8-8L184 48c-4.4 0-8 3.6-8 8zM128 96l0-40c0-30.9 25.1-56 56-56L328 0c30.9 0 56 25.1 56 56l0 40 0 32 0 352-256 0 0-352 0-32zM64 96l32 0 0 384-32 0c-35.3 0-64-28.7-64-64L0 160c0-35.3 28.7-64 64-64zM448 480l-32 0 0-384 32 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64z"/></svg></div>Job Portal</h1>
      <ul class="nav-links" id="navLinks">
        <!-- Nav items will be injected dynamically -->
      </ul>
    </div>
  </nav>

  <div class="jobs-container">
    <!-- Left Side: Job Filter -->
    <aside class="filter-sidebar">
      <h3>Filter Jobs</h3>
      <form id="job-filter">
        <label for="category">Category</label>
        <select id="category" name="category">
          <option value="all">All Categories</option>
          <option value="tech">Technology</option>
          <option value="marketing">Marketing</option>
          <option value="hr">Human Resources</option>
          <option value="sales">Sales</option>
          <option value="finance">Finance</option>
        </select>

        <label for="location">Location</label>
        <select id="location" name="location">
          <option value="all">All Locations</option>
          <option value="remote">Remote</option>
          <option value="onsite">Onsite</option>
        </select>

        <button type="submit" class="apply-btn">Apply Filters</button>
      </form>
    </aside>

    <!-- Right Side: Job Listings -->
    <section class="job-listings">
      <h2>Available Jobs</h2>

      <!-- Real Job Listings -->
      <div class="job" data-id="software-engineer" data-category="Technology" data-location="Remote">
        <h3>Software Engineer</h3>
        <p><strong>Category:</strong> Technology</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> We are looking for a talented software engineer to join our team.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>

      <div class="job" data-id="marketing-specialist" data-category="Marketing" data-location="Onsite">
        <h3>Marketing Specialist</h3>
        <p><strong>Category:</strong> Marketing</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Join our marketing team and help grow our brand.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>

      <div class="job" data-id="full-stack-developer" data-category="Technology" data-location="Onsite">
        <h3>Full Stack Developer</h3>
        <p><strong>Category:</strong> Technology</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Build and maintain full-stack applications for our growing tech team.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>

      <div class="job" data-id="dummy-job-1" data-category="Technology" data-location="Remote">
        <h3>Frontend Developer</h3>
        <p><strong>Category:</strong> Technology</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Build responsive UIs using React.js and modern JavaScript frameworks.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-2" data-category="Marketing" data-location="Onsite">
        <h3>SEO Specialist</h3>
        <p><strong>Category:</strong> Marketing</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Optimize website content and increase search engine visibility.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-3" data-category="Human Resources" data-location="Remote">
        <h3>HR Generalist</h3>
        <p><strong>Category:</strong> Human Resources</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Support daily HR activities and assist in recruitment processes.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-4" data-category="Sales" data-location="Onsite">
        <h3>Sales Associate</h3>
        <p><strong>Category:</strong> Sales</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Assist customers and close sales in a fast-paced environment.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-5" data-category="Finance" data-location="Remote">
        <h3>Junior Accountant</h3>
        <p><strong>Category:</strong> Finance</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Maintain financial records and prepare reports for audits.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-6" data-category="Technology" data-location="Onsite">
        <h3>Backend Developer</h3>
        <p><strong>Category:</strong> Technology</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Design APIs and manage server-side logic using Node.js.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-7" data-category="Marketing" data-location="Remote">
        <h3>Content Strategist</h3>
        <p><strong>Category:</strong> Marketing</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Develop and manage content strategy across platforms.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-8" data-category="Human Resources" data-location="Onsite">
        <h3>Recruitment Specialist</h3>
        <p><strong>Category:</strong> Human Resources</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Source, screen, and interview candidates for open roles.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-9" data-category="Sales" data-location="Remote">
        <h3>Business Development Rep</h3>
        <p><strong>Category:</strong> Sales</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Generate leads and build client relationships for growth.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-10" data-category="Finance" data-location="Onsite">
        <h3>Payroll Executive</h3>
        <p><strong>Category:</strong> Finance</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Manage payroll processing and employee compensation.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-11" data-category="Technology" data-location="Remote">
        <h3>DevOps Engineer</h3>
        <p><strong>Category:</strong> Technology</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Automate infrastructure and manage CI/CD pipelines.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-12" data-category="Marketing" data-location="Onsite">
        <h3>Brand Manager</h3>
        <p><strong>Category:</strong> Marketing</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Build brand strategy and lead campaigns for awareness.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-13" data-category="Human Resources" data-location="Remote">
        <h3>People Operations Associate</h3>
        <p><strong>Category:</strong> Human Resources</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Coordinate employee programs and engagement activities.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-14" data-category="Sales" data-location="Onsite">
        <h3>Account Manager</h3>
        <p><strong>Category:</strong> Sales</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Manage client accounts and deliver business solutions.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-15" data-category="Finance" data-location="Remote">
        <h3>Investment Analyst</h3>
        <p><strong>Category:</strong> Finance</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Conduct market research and recommend investment options.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-16" data-category="Technology" data-location="Onsite">
        <h3>QA Tester</h3>
        <p><strong>Category:</strong> Technology</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Perform manual and automated tests for software products.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-17" data-category="Marketing" data-location="Remote">
        <h3>Social Media Manager</h3>
        <p><strong>Category:</strong> Marketing</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Grow social presence and engage users across platforms.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-18" data-category="Human Resources" data-location="Onsite">
        <h3>Employee Relations Officer</h3>
        <p><strong>Category:</strong> Human Resources</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Handle workplace issues and support employee well-being.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-19" data-category="Sales" data-location="Remote">
        <h3>Territory Sales Manager</h3>
        <p><strong>Category:</strong> Sales</p>
        <p><strong>Location:</strong> Remote</p>
        <p><strong>Description:</strong> Expand sales operations across assigned regions.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>
      
      <div class="job" data-id="dummy-job-20" data-category="Finance" data-location="Onsite">
        <h3>Budget Analyst</h3>
        <p><strong>Category:</strong> Finance</p>
        <p><strong>Location:</strong> Onsite</p>
        <p><strong>Description:</strong> Monitor budget allocations and financial performance.</p>
        <a href="#" class="apply-btn">Apply</a>
      </div>      
    </section>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Job Portal. All rights reserved.</p>
  </footer>

  <script>
    // --- Dynamic Navbar ---
    document.addEventListener("DOMContentLoaded", () => {
      const navLinks = document.getElementById("navLinks");
      const userEmail = localStorage.getItem("userEmail");
  
      if (userEmail) {
        // User is logged in
        navLinks.innerHTML = `
          <li><a href="index.html">Home</a></li>
          <li><a href="jobs.html">Jobs</a></li>
          <li><a href="profile.html">Profile</a></li>
          <li><a href="#" onclick="logout()">Logout</a></li>
        `;
      } else {
        // No user logged in
        navLinks.innerHTML = `
          <li><a href="index.html">Home</a></li>
          <li><a href="login.html">Login</a></li>
          <li><a href="register.html">Register</a></li>
        `;
      }
    });
  
    // Logout function clears only userEmail
    function logout() {
      localStorage.removeItem("userEmail");
      window.location.href = "login.html";
    }
  
    // --- Applied Jobs Button Functionality ---
    function updateAppliedButtons() {
      const userEmail = localStorage.getItem("userEmail");
      const appliedJobs = JSON.parse(localStorage.getItem("appliedJobs_" + userEmail)) || [];
      document.querySelectorAll('.job').forEach(job => {
        const jobId = job.getAttribute('data-id');
        if (appliedJobs.includes(jobId)) {
          const btn = job.querySelector('.apply-btn');
          btn.textContent = "Applied";
          btn.style.backgroundColor = "blue";
          btn.disabled = true;
        }
      });
    }
  
    // --- Job Filter Functionality ---
    document.getElementById('job-filter').addEventListener('submit', function (e) {
      e.preventDefault(); // Prevent form from reloading the page
  
      const selectedCategory = document.getElementById('category').value;
      const selectedLocation = document.getElementById('location').value;
  
      const jobs = document.querySelectorAll('.job');
  
      jobs.forEach(job => {
        const jobCategory = job.getAttribute('data-category').toLowerCase();
        const jobLocation = job.getAttribute('data-location').toLowerCase();
  
        const matchesCategory = (selectedCategory === 'all' ||
          (selectedCategory === 'tech' && jobCategory === 'technology') ||
          selectedCategory === jobCategory);
  
        const matchesLocation = (selectedLocation === 'all' || selectedLocation === jobLocation);
  
        if (matchesCategory && matchesLocation) {
          job.style.display = 'block';
        } else {
          job.style.display = 'none';
        }
      });
    });
  
    // --- Apply Button Functionality ---
    const applyButtons = document.querySelectorAll('.job-listings .job .apply-btn');
    applyButtons.forEach(button => {
      button.addEventListener('click', function (event) {
        event.preventDefault();
  
        // Check if user is logged in first
        const userEmail = localStorage.getItem("userEmail");
        if (!userEmail) {
          alert("User not logged in!");
          return;
        }
  
        // Proceed with applying for the job if logged in
        const jobContainer = this.closest('.job');
        const jobId = jobContainer.getAttribute('data-id');
        const jobTitle = jobContainer.querySelector('h3').textContent;
        const jobCategory = jobContainer.getAttribute('data-category');
        const jobLocation = jobContainer.getAttribute('data-location');
        const jobDescription = jobContainer.querySelectorAll('p')[2].textContent;
  
        alert(`You have applied for ${jobTitle}.\nCategory: ${jobCategory}\nLocation: ${jobLocation}\nDescription: ${jobDescription}`);
  
        // Update the button UI
        this.style.backgroundColor = 'blue';
        this.textContent = "Applied";
        this.disabled = true;
  
        // Persist the applied job in localStorage for this user
        let appliedJobs = JSON.parse(localStorage.getItem("appliedJobs_" + userEmail)) || [];
        if (!appliedJobs.includes(jobId)) {
          appliedJobs.push(jobId);
          localStorage.setItem("appliedJobs_" + userEmail, JSON.stringify(appliedJobs));
        }
      });
    });
  
    document.addEventListener('DOMContentLoaded', updateAppliedButtons);
  </script>
  
</body>
</html>
